<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./assets/css/test2.css">

    <!-- Bootstrap css -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <!-- Bootstrap js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

    <script>
        // The debounce function receives our function as a parameter
const debounce = (fn) => {

// This holds the requestAnimationFrame reference, so we can cancel it if we wish
let frame;

// The debounce function returns a new function that can receive a variable number of arguments
return (...params) => {
  
  // If the frame variable has been defined, clear it now, and queue for next frame
  if (frame) { 
    cancelAnimationFrame(frame);
  }

  // Queue our function call for the next frame
  frame = requestAnimationFrame(() => {
    
    // Call our function and pass any params we received
    fn(...params);
  });

} 
};


// Reads out the scroll position and stores it in the data attribute
// so we can use it in our stylesheets
const storeScroll = () => {
let perc = window.scrollY / (document.body.clientHeight - window.innerHeight) * 100;
document.documentElement.setAttribute('style', `--scrollpos: ${perc}`);

}

// Listen for new scroll events, here we debounce our `storeScroll` function
document.addEventListener('scroll', debounce(storeScroll), { passive: true });

// Update scroll position for first time
storeScroll();

    </script>
</head>
<body>
<main>
    <div class="inner">
        <h2>Scroll me</h2>
        <p>
          Code based on CSS-tricks article &quot;<a href="https://css-tricks.com/styling-based-on-scroll-position/">Styling Based on Scroll Position</a>&quot;.
        </p>
        <p>
          Using css var to dynamically change css values. In this case the hue inside hsl() is changed.
        </p>
        <p>
          Other fun properties to use this on are opacity and transforms. For example used as an alternative method for parallax.
        </p>
      </div>
      Run Pen
      
      
      
      
      Resources
  </div>
  
  
  
</main>
    
</body>
</html>